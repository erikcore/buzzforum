{"version":3,"sources":["../../src/js/app.jsx"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["\nvar currentThreads = {};\nvar currentThreadsArray = [];\nvar currentThreadsNextPage = null;\n\nvar ForumBox = React.createClass({\n\tloadThreadsFromServer: function() {\n\t\t$.ajax({\n\t\t\turl: currentThreadsNextPage ? currentThreadsNextPage : this.props.url,\n\t\t\tdataType:'json',\n\t\t\tcache: false,\n\t\t\tsuccess: function(response) {\n\t\t\t\tArray.prototype.push.apply(currentThreadsArray, response['results']);\n\t\t\t\t//currentThreadsArray.push(response['results']);\n\t\t\t\tresponse['results'].forEach(function (result) {\n\t\t\t\t\tcurrentThreads[result['id']] = result;\n\t\t\t\t});\n\t\t\t\tthis.setState({data: currentThreadsArray});\n\t\t\t\tif (response['next']) {\n\t\t\t\t\tcurrentThreadsNextPage = response['next'];\n\t\t\t\t} else {\n\t\t\t\t\t$('.moreThreads').hide();\n\t\t\t\t}\n\t\t\t}.bind(this),\n\t\t\terror: function(xhr, status, err) {\n\t\t\t\tconsole.error(this.props.url, status, err.toString());\n\t\t\t}.bind(this)\n\t\t});\n\t},\n\tloadNextPage: function(e) {\n\t\te.preventDefault();\n\t\tthis.loadThreadsFromServer();\n\t},\n\thandleThreadSubmit: function(thread) {\n\t\t$.ajax({\n\t\t\turl: \"/api/threads/\",\n\t\t\tdataType: 'json',\n\t\t\ttype: 'POST',\n\t\t\tdata: thread,\n\t\t\tsuccess: function(data) {\n\t\t\t\tcurrentThreadsArray.unshift(data);\n\t\t\t\tthis.setState({data: currentThreadsArray})\n\t\t\t}.bind(this),\n\t\t\terror: function(xhr, status, err) {\n\t\t\t\tconsole.error(\"/api/threads/\", status, err.toString());\n\t\t\t}.bind(this)\n\t\t});\n\t},\n\tgetInitialState: function() {\n\t\treturn { data: currentThreadsArray }\n\t},\n\tcomponentDidMount: function() {\n\t\tif (currentThreadsArray.length == 0) {\n\t\t\tthis.loadThreadsFromServer();\n\t\t}\n\t},\n\trender: function() {\n\t\treturn (\n\t\t\t<div className=\"forumBox\">\n\t\t\t\t<div id=\"recentThreads\">RECENT THREADS</div>\n\t\t\t\t<ThreadList data={this.state.data} />\n\t\t\t\t<a href=\"#\" className=\"moreThreads\" onClick={this.loadNextPage}>Load more threads!</a>\n\t\t\t\t<ThreadForm onThreadSubmit={this.handleThreadSubmit} />\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nvar ThreadList = React.createClass({\n\trender: function() {\n\t\tvar threadNodes = this.props.data.map(function (thread) {\n\t\t\treturn (\n\t\t\t\t<Thread thread={thread}></Thread>\n\t\t\t);\n\t\t});\n\t\treturn (\n\t\t\t<div className=\"threadList\">\n\t\t\t\t{threadNodes}\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nvar Thread = React.createClass({\n\thandleClick: function(event) {\n\t\tevent.preventDefault();\n\t\thistory.pushState(null, null, window.location.pathname + 'thread/' + this.props.thread.id);\n\t\thandleNewHash();\n\t},\n\trender: function() {\n\t\treturn (\n\t\t\t<div className=\"thread\">\n\t\t\t\t<div className=\"threadTitle\"><a href=\"#\" onClick={this.handleClick}>{this.props.thread.title}</a></div> \n\t\t\t\t<span className=\"threadAttribute\"> posted by {this.props.thread.username} | {this.props.thread.comments ? this.props.thread.comments.length : 0} comments</span>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nvar ThreadForm = React.createClass({\n\thandleSubmit: function(e) {\n\t\te.preventDefault();\n\t\tvar username = this.refs.username.value.trim();\n\t\tvar title = this.refs.title.value.trim();\n\t\tvar description = this.refs.description.value.trim();\n\t\tif (!title) {\n\t\t\treturn;\n\t\t}\n\t\tif (!username) {\n\t\t\tusername = \"Anonymous\";\n\t\t}\n\t\tif (!description) {\n\t\t\tdescription = \"\";\n\t\t}\n\t\tthis.props.onThreadSubmit({username: username, title: title, description: description});\n\t\tthis.refs.username.value = '';\n\t\tthis.refs.title.value = '';\n\t\tthis.refs.description.value = '';\n\t\treturn;\n\t},\n\trender: function() {\n\t\treturn (\n\t\t\t<div className=\"formWrapper\">\n\t\t\t\t<form className=\"threadForm\" onSubmit={this.handleSubmit}>\n\t\t\t\t\t<input type=\"text\" placeholder=\"Enter a title for your new thread\" ref=\"title\" /><br />\n\t\t\t\t\t<input type=\"text\" placeholder=\"Enter your name (optional)\" ref=\"username\" /><br />\n\t\t\t\t\t<input type=\"text\" placeholder=\"Enter a description of your new thread (optional)\" ref=\"description\" /><br />\n\t\t\t\t\t<input type=\"submit\" value=\"Create thread!\" />\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nvar ThreadBox = React.createClass({\n\thandleCommentSubmit: function(comment) {\n\t\t$.ajax({\n\t\t\turl: \"/api/comments/\",\n\t\t\tdataType: 'json',\n\t\t\ttype: 'POST',\n\t\t\tdata: comment,\n\t\t\tsuccess: function(data) {\n\t\t\t\tthis.state.requestedThread.comments.unshift(data);\n\t\t\t\tthis.setState({requestedThread: this.state.requestedThread});\n\t\t\t}.bind(this),\n\t\t\terror: function(xhr, status, err) {\n\t\t\t\tconsole.error(\"/api/comments/\", status, err.toString());\n\t\t\t}.bind(this)\n\t\t});\n\t},\n\tgetInitialState: function() {\n\t\treturn { requestedThread: {} }\n\t},\n\tcomponentDidMount: function() {\n\t\tvar requestedThread;\n\t\tif (currentThreads[this.props.threadId]) {\n\t\t\tthis.setState({requestedThread: currentThreads[this.props.threadId]});\n\t\t} else {\n\t\t\t$.ajax({\n\t\t\t\turl: '/api/threads/?format=json&id=' + this.props.threadId,\n\t\t\t\tdataType:'json',\n\t\t\t\tcache: false,\n\t\t\t\tsuccess: function(response) {\n\t\t\t\t\tthis.setState({requestedThread: response['results'][0]});\n\t\t\t\t}.bind(this),\n\t\t\t\terror: function(xhr, status, err) {\n\t\t\t\t\tconsole.error('/api/threads/?format=json&id=' + this.props.threadId, status, err.toString());\n\t\t\t\t}.bind(this)\n\t\t\t});\n\t\t}\n\t},\n\trender: function() {\n\t\treturn (\n\t\t\t<div className=\"threadBox\">\n\t\t\t\t<div className=\"threadBoxTitle\">{this.state.requestedThread.title}</div>\n\t\t\t\t<div className=\"threadBoxDescription\">{this.state.requestedThread.description}</div>\n\t\t\t\t<div className=\"threadBoxThreadAuthor\">Posted by {this.state.requestedThread.username}</div>\n\t\t\t\t<CommentList data={this.state.requestedThread.comments} />\n\t\t\t\t<CommentForm threadId={this.state.requestedThread.id} onCommentSubmit={this.handleCommentSubmit} />\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nvar CommentList = React.createClass({\n\trender: function() {\n\t\tvar data = [];\n\t\tif (this.props.data) {\n\t\t\tdata = this.props.data;\n\t\t}\n\t\tvar commentNodes = data.map(function (comment) {\n\t\t\treturn (\n\t\t\t\t<Comment comment={comment}></Comment>\n\t\t\t);\n\t\t});\n\t\treturn (\n\t\t\t<div className=\"commentList\">\n\t\t\t\t{commentNodes}\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nvar Comment = React.createClass({\n\thandleClick: function(event) {\n\t\t// TODO: increment comment vote\n\t\tevent.preventDefault();\n\t\tconsole.log('need to add a vote for '+ this.props.comment.id);\n\t\t$.ajax({\n\t\t\turl: \"/api/comments/\"+this.props.comment.id+\"/increment_score/\",\n\t\t\tdataType: 'json',\n\t\t\ttype: 'POST',\n\t\t\tdata: {},\n\t\t\tsuccess: function(data) {\n\t\t\t\t$('#commentScore_'+data.id).text(parseInt($('#commentScore_'+data.id).text().trim())+1);\n\t\t\t}.bind(this),\n\t\t\terror: function(xhr, status, err) {\n\t\t\t\tconsole.error(\"/api/comments/\"+this.props.comment.id+\"/increment_score/\", status, err.toString());\n\t\t\t}.bind(this)\n\t\t});\n\t},\n\trender: function() {\n\t\treturn (\n\t\t\t<div className=\"comment\">\n\t\t\t\t<div className=\"commentText\">\n\t\t\t\t\t<div className=\"voteAndScore\">\n\t\t\t\t\t\t<div><a className=\"commentVote\" href=\"#\" onClick={this.handleClick}>â–²</a></div>\n\t\t\t\t\t\t<div><span id={\"commentScore_\"+this.props.comment.id}>{this.props.comment.score}</span></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>{this.props.comment.text}</div>\n\t\t\t\t\t<div className=\"commentAttribute\">\n\t\t\t\t\t\tby {this.props.comment.username}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nvar CommentForm = React.createClass({\n\thandleSubmit: function(e) {\n\t\te.preventDefault();\n\t\tvar threadId = this.refs.threadId.value.trim();\n\t\tvar text = this.refs.text.value.trim();\n\t\tvar username = this.refs.username.value.trim();\n\t\tif (!text) {\n\t\t\treturn;\n\t\t}\n\t\tif (!username) {\n\t\t\tusername = \"Anonymous\";\n\t\t}\n\t\tthis.props.onCommentSubmit({thread: '/api/threads/'+threadId+'/', username: username, text: text});\n\t\tthis.refs.threadId.value = '';\n\t\tthis.refs.username.value = '';\n\t\tthis.refs.text.value = '';\n\t\treturn;\n\t},\n\trender: function() {\n\t\treturn (\n\t\t\t<div className=\"commentFormWrapper\" onSubmit={this.handleSubmit}>\n\t\t\t\t<form className=\"commentForm\">\n\t\t\t\t\t<input type=\"hidden\" value={parseInt(this.props.threadId)} ref=\"threadId\" />\n\t\t\t\t\t<input type=\"text\" placeholder=\"Enter your comment...\" ref=\"text\" /><br />\n\t\t\t\t\t<input type=\"text\" placeholder=\"Enter your name (optional)\" ref=\"username\" /><br />\n\t\t\t\t\t<input type=\"submit\" value=\"Post comment!\" />\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n// Routing\nvar Application = React.createClass({\n\trender: function() {\n\t\tswitch (this.props.location[1]) {\n\t\t\tcase '':\n\t\t\t\treturn (\n\t\t\t\t\t<ForumBox url='/api/threads/?format=json' />\n\t\t\t\t);\n\t\t\tcase 'thread':\n\t\t\t\treturn (\n\t\t\t\t\t<ThreadBox threadId={this.props.location[2]} />\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn (\n\t\t\t\t\t<div><h1>CAN'T FIND WHAT YOU'RE LOOKING FOR BRAH.</h1></div>\n\t\t\t\t);\n\t\t}\n\t}\n});\n\nfunction handleNewHash() {\n\tvar location = window.location.pathname.split('/');\n\tvar application = <Application location={location} />;\n\tReactDOM.render(application, document.getElementById('content'));\n}\n\nwindow.addEventListener(\"popstate\", function(e) {\n\thandleNewHash();\n});\n\nhandleNewHash();\nwindow.addEventListener('hashchange', handleNewHash, false);"]}